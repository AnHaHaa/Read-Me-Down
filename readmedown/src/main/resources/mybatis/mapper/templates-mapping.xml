<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="mypage.MypageDAO">
	
<!-- Paging -->
<select id="allTemplatesCnt" resultType="int" parameterType="pagination.SearchDTO">
    SELECT COUNT(*)
        FROM board
        WHERE delete_date IS NULL AND user_id = #{searchType1}
</select> 

<select id="allTemplatesList" resultType="boarddto" parameterType="pagination.SearchDTO">
    SELECT *
        FROM board
        WHERE delete_date IS NULL AND user_id = #{searchType1}
        ORDER BY write_date DESC
    limit #{pagination.limitStart}, #{recordSize}    
</select>

<!-- 유저 북마크 목록 -->
<select id="userTemplate" resultType="bookmarkdto" parameterType="String">
	select * from board where user_id = #{user_id}
</select>

<!-- 로그인 유저의 해당 보드 북마크 여부 -->
<select id="checkTemplateLock" resultType="int" parameterType="pagination.SearchDTO">
	select count(*) from board where board_id = #{board_id} and user_id = #{user_id}
</select>
	
</mapper>

