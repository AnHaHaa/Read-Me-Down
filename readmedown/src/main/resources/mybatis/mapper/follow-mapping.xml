<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="mypage.FollowDAO">

	<resultMap type="mypage.FollowDTO" id="FollowMap">
		<id property="follow_id" column="follow_id"/>
		<result property="my_id" column="my_id"/>
		<result property="your_id" column="your_id"/>
		<collection property="user" resultMap="userMap" />
	</resultMap>

	<resultMap type="userdto" id="userMap">
		<id property="user_id" column="user_id"/>
		<result property="email" column="email"/>
		<result property="name" column="name"/>
		<result property="created_date" column="created_date"/>
		<result property="deleted_date" column="deleted_date"/>
		<result property="profile_image" column="profile_image"/>
		<result property="git_id" column="git_id"/>
	</resultMap>

	<select id="getFollowList" parameterType="String" resultMap="FollowMap">
		Select *
		from `follow` f
		join `user` u on u.user_id = f.your_id
		where `my_id`=#{user_id};
	</select>

	<delete id="deleteFollow" parameterType="String">
		delete 
		from `follow`
		where `follow_id`=#{follow_id};
	</delete>

</mapper>